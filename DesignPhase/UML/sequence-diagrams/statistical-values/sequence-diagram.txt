@startuml
actor Steve
participant "StatValuesSection\n//Component//" as SVS #0000ff
participant "Graph\n//Component//" as Graph #0000ff
participant "actions\n//Redux//" as actions #808080
database "Store\n//Redux//" as Store #808080
participant "mean\n//Reducer//" as meanRD #808080
participant "percentile\n//Reducer//" as percRD #808080
participant "apexcharts\n//library//" as apexcharts #ffff00
participant "math utils\n//library//" as math #ffff00

Steve->SVS: user selects mean
SVS->actions: add_mean()
SVS<--actions: action 
SVS->Store: dispatch(action)
Store->meanRD: reduce(state, action)
meanRD->math: calculate_mean
meanRD<--math: meanSeries

Store<--meanRD: new state
Graph<--Store: updateHook
Graph->Store: useSelector(state => state.options)
Graph<--Store: options
Graph->Store: useSelector(state => state.series)
Graph<--Store: series
Graph->apexcharts: new Chart(options, series)
Graph<--apexcharts: rendered svg chart
Steve<--Graph: user sees updated chart


Steve->SVS: user selects median
SVS->actions: add_percentile(0.50)
SVS<--actions: action 
SVS->Store: dispatch(action)
Store->percRD: reduce(state, action)
percRD->math: calculate_perc(0.50)
percRD<--math: percSeries

Store<--percRD: new state
Graph<--Store: updateHook
Graph->Store: useSelector(state => state.options)
Graph<--Store: options
Graph->Store: useSelector(state => state.series)
Graph<--Store: series
Graph->apexcharts: new Chart(options, series)
Graph<--apexcharts: rendered svg chart
Steve<--Graph: user sees updated chart


@enduml
