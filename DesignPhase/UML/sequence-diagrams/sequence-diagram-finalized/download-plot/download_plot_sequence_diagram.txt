@startuml
skinparam style strictuml

actor User
participant "//<<Component>>//\nDownloadModal" as DownloadPopUp #3489eb
participant "//<<MaterialDesign>>//\nListBox" as ListBox #ff8080
participant "//<<Library>>//\napexcharts" as apexcharts #00af57
participant "//<<Library>>//\npdfmake" as pdfmake #00af57

User -> DownloadPopUp: <<clicks download>>
activate DownloadPopUp
DownloadPopUp -> ListBox: getSelectedValue()
activate ListBox
DownloadPopUp <-- ListBox: selectedFormat
deactivate ListBox
DownloadPopUp -> DownloadPopUp: downloadImg(selectedFormat)
activate DownloadPopUp
alt selectedFormat == "SVG"
	
	DownloadPopUp -> apexcharts: getSVG()
	activate apexcharts
	DownloadPopUp <-- apexcharts: downloadFile
	deactivate apexcharts
else selectedFormat == "PNG"
	
	DownloadPopUp -> apexcharts: getPNG()
	activate apexcharts
	DownloadPopUp <-- apexcharts: downloadFile
	deactivate apexcharts

else selectedFormat == "PDF"

	DownloadPopUp -> apexcharts: getSVG()
	activate apexcharts
	DownloadPopUp <-- apexcharts: graphFile
	deactivate apexcharts
	DownloadPopUp -> pdfmake: createPDF(graphFile)
	activate pdfmake
	DownloadPopUp <-- pdfmake: downloadFile
	deactivate pdfmake
	
	

end

DownloadPopUp -> DownloadPopUp: <<stars download of downloadFile>>
activate DownloadPopUp
DownloadPopUp --> DownloadPopUp
deactivate DownloadPopUp
DownloadPopUp --> DownloadPopUp
deactivate DownloadPopUp

User <-- DownloadPopUp
deactivate DownloadPopUp

@enduml